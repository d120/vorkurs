% !TeX document-id = {d2a98428-ee0e-4def-9f4b-378c042e42ba}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]
\input{../global.tex}


\begin{document}
%Deckblatt
\subtitle{Kapitel 6: wie Funktionen funktionieren}
\titlegraphic{
	\begin{columns}
		\begin{column}{4cm}
			\vspace{1.5cm}
			\begin{center}
				{\huge Rekursion}
			\end{center}
		\end{column}
		\begin{column}{4cm}
		\vspace{-5mm}
			\begin{figure}
				\centering
				\includeinvertablegraphics[scale=2.5]{media/tabletop_roleplaying.png}
				\\	\sffamily \tiny Bild: \href{https://xkcd.com/244/}{https://xkcd.com/244/}
			\end{figure}
			%\raisebox{-5cm}{für mehr Informationen siehe Foliensatz "`Rekursion"'}
			%}
		\end{column}
	\end{columns}}
\maketitle

\section{Rekursion}
\begin{frame}[t]
	\slidehead

	\vskip -18 pt
	\begin{columns}
		\begin{column}{4.5cm}
			\vskip 5 pt
			\begin{itemize}
				\item Funktionen können sich selbst aufrufen
			\end{itemize}
		\end{column}

		\begin{column}{7cm}
			\begin{figure}
				\ifcsname vorkursRecurse\endcsname
					\includegraphics[width=\textwidth,page=2]{06_05_Rekursion_tmp.pdf}
				\fi
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}[t]
	\slidehead

	\begin{itemize}
		\item Funktionen können sich mehrfach selbst aufrufen
	\end{itemize}

	\begin{columns}
		\begin{column}{5cm}
			\begin{figure}
				\ifcsname vorkursRecurse\endcsname
					\includegraphics[width=\textwidth,page=3]{06_05_Rekursion_tmp.pdf}
				\fi
			\end{figure}
		\end{column}

		\begin{column}{5cm}
			\begin{figure}
				\ifcsname vorkursRecurse\endcsname
					\includegraphics[width=\textwidth,page=3]{06_05_Rekursion_tmp.pdf}
				\fi
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\subsection*{Beispiel}
\begin{frame}
	\slidehead

	\begin{itemize}
		\item Fibonacci-Zahlen: \texttt{1, 1, 2, 3, 5, 8, 13, 8+13 = 21, ...}
		\begin{onlyenv}<1>
			\pythonfile{listings/bsp_recursion_1.py}
		\end{onlyenv}

		\begin{onlyenv}<2>
			\pythonfile{listings/bsp_recursion_2.py}
		\end{onlyenv}

		\item<2> Rekursionsanker sorgt für den Abbruch
	\end{itemize}

\end{frame}

\subsection{Rekursionsbaum}

%The biggest Latex Monstrosity ever conceived:
%greetings
%Kevin O.
\newcommand{\mytree}{
\ifnum \val = 0
\draw[draw=., ultra thick] (\x,\y) rectangle 	++(0.75,0.75);
\node at (\x+0.375,\y+0.375) {f(\the\val)};
\fi
\ifnum \val = 1
\draw[draw=., ultra thick] (\x,\y) rectangle 	++(0.75,0.75);
\node at (\x+0.375,\y+0.375) {f(\the\val)};
\fi
\ifnum \val > 1

\draw[draw=., ultra thick] (\x,\y) rectangle ++(0.75,0.75);
\node at (\x+0.375,\y+0.375) {f(\the\val)};

\advance \val -1
\advance \y -2
\tmp=-\val*0.01
\advance \tmp -1

\advance \x \tmp
\draw [->, thick] (\x-\tmp,\y+2) -- (\x+0.75,\y+0.75);
\mytree;

\tmp=\val*0.01
\advance \tmp 1

\advance \x \tmp
\advance \val -1
\tmp=\val*0.01
\advance \tmp 1

\advance \x \tmp

\draw [->, thick] (\x-\tmp+0.75,\y+2) -- (\x,\y+0.75);
\mytree;

%everything back to normal
\tmp=-\val*0.01
\advance \tmp -1

\advance \val +2
\advance \x \tmp
\advance \y +2
\fi
}


\begin{frame}
	\slidehead
	\centering
	\vspace{-0.1cm}
	\begin{tikzpicture}[scale=.9, every node/.style={scale=1}]
		\newcount\val
		\newcount\x
		\newcount\y
		\newcount\tmp
		\val=4;
		\x=0;
		\y=0;
		\mytree;
	\end{tikzpicture}
\end{frame}



\subsection{Rekursive Summe in Python}
\begin{frame}
	\slidehead

	\begin{itemize}
		\item Aufgabe: Zahlen von 1 bis 4 zusammenzählen: \texttt{sum(4)} \pause
		\item \texttt{= 1 + 2 + 3 + 4} \pause
		\item \texttt{= (1 + 2 + 3) + 4} \pause
		\item \texttt{= sum(3) + 4}
	\end{itemize}
	\vspace{1em}
	\pause
	\pythonfile{listings/recursiveSum.py}
\end{frame}

\livecoding

\section{Fragen und Sonstiges}
\subsection{}

\begin{frame}
	\slidehead
	\vspace{1.8cm}
	\centering
	\huge Noch Fragen?
\end{frame}

\section{}
\subsection{}

\begin{frame}
	\slidehead
	\vspace{1.8cm}
	\centering
	\huge Danke fürs Zuschauen und Viel Erfolg im Studium.
\end{frame}

\end{document}
