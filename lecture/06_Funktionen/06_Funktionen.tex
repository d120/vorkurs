% !TeX document-id = {d2a98428-ee0e-4def-9f4b-378c042e42ba}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]
% !TeX root = 06_Funktionen.tex
\input{../global.tex}


\begin{document}
%Deckblatt
\subtitle{Kapitel 6: wie Funktionen funktionieren}
\titlegraphic{
    \vbox to \height {%
        \vfill
        \begin{columns}
            \begin{column}{10cm}
                \begin{center}
                    {\huge Funktionen}
                \end{center}
                \begin{figure}
                    \centering
                    \includegraphics[scale=.4]{media/proofs\IfDarkModeT{-dark}.png}
                    \caption{\url{https://xkcd.com/1724/}}
                \end{figure}
            \end{column}
        \end{columns}
        \vfill
    }
}
\maketitle

\section{Schlechtes Beispiel}
\begin{frame}[c]
    \slidehead
    \pythonfile{listings/beispiel_schlecht.py}
    \small (Namen generiert auf www.listofrandomnames.com)
\end{frame}


\section{Gutes Beispiel}
\begin{frame}
    \slidehead
    \pythonfile{listings/beispiel_gut.py}
\end{frame}

\section{Idee von Funktionen}
\begin{frame}
    \slidehead

    \begin{itemize}
        \item Funktionalität \textbf{kapseln}: An einer Stelle zusammengefasst
        \item Weniger \textbf{Redundanz}: Keinen Code doppelt schreiben
        \item Einmal Code schreiben, danach nur an diese Stelle verweisen
    \end{itemize}
    \vspace{1cm}
    \begin{block}{Hinweis}
        Einige Funktionen haben wir schon kennengelernt, z.B. \pythoninline{print("Hello World")}
    \end{block}
\end{frame}

\subtitle{Kapitel 6: wie Funktionen funktionieren}

\section{Woraus besteht eine Funktion?}
\begin{frame}[c]
    \slidehead
    \begin{itemize}[<+->]
        \item Syntax: \pythonfile{listings/fun_syntax.py}
        \item Beispiel: \pythonfile{listings/fun_syntax_concrete.py}
    \end{itemize}
\end{frame}

\subsection{Return-Statement}
\begin{frame}
    \slidehead
    \begin{itemize}
        \item Funktionen können Rückgabewerte haben
        \item Der Rückgabetyp kann im Methodenkopf stehen
        \item Dazu wird \pythoninline{return} gefolgt vom Rückgabewert geschrieben
            \pause
        \item Syntax \pythonfile{listings/fun_syntax_return.py}
    \end{itemize}
\end{frame}

\livecoding

\subtitle{Kapitel 6: Wie Funktionen funktionieren}

\section{Fallbeispiel: Geometrie}
\begin{frame}[c]
    \slidehead

    \begin{figure}
        \centering
        %Hinweis: dieses Bild wurde von uns erstellt und kann ohne Referenz verwendet werden.
        %Viele Grüße
        %Kevin
        \includegraphics[width=0.8\textheight]{geometrie\IfDarkModeT{-dark}.png}
    \end{figure}

\end{frame}

\subsection{Flächeninhalt eines Kreises}
\begin{frame}
    \slidehead
    \pythonfile{listings/bsp_geometrie_schlecht.py}

    \begin{block}{Problem}
        Immer, wenn irgendwo der Flächeninhalt gebraucht wird, muss er neu geschrieben werden $\Rightarrow$ Viel Code und viele mögliche Fehlerquellen
    \end{block}
\end{frame}

\begin{frame}
    \slidehead
    \vspace{-1ex}
    \begin{onlyenv}<1>
        \pythonfile{listings/bsp_geometrie_1.py}
    \end{onlyenv}

    \begin{onlyenv}<2>
        \pythonfile{listings/bsp_geometrie_2.py}
    \end{onlyenv}
    \pause
    In diesem Beispiel, ist \pythoninline{r} ein \textbf{Parameter} und \pythoninline{radius} das \textbf{Argument} für \pythoninline{r}
\end{frame}

\subsection{Wiederverwendbarkeit}
\begin{frame}
    \slidehead
    \vspace{-1ex}
    \pythonfile[][top=0cm,bottom=0cm]{listings/reusability.py}
    \vspace{-1ex}
    \begin{block}{Hinweis}
        Nun kann die Funktion auch in anderen Funktionen verwendet werden.
        Bei Änderungen muss nur eine Stelle geändert werden.
    \end{block}
\end{frame}

\section{Vorteile von Funktionen}
\begin{frame}
    \slidehead

    \begin{itemize}
        \item \textbf{Wiederverwendung} von Code $\Rightarrow$ Weniger Code schreiben
        \item \textbf{Redundanz} im Code verringern $\Rightarrow$ Veränderungen nur an einer Stelle
        \item \textbf{Blackbox}-Prinzip $\Rightarrow$ Details verstecken
    \end{itemize}
\end{frame}

\livecoding

%Deckblatt
\subtitle{Kapitel 6: wie Funktionen funktionieren}

\section{Scope}
\subsection{Lokale Variablen}
\begin{frame}[fragile]
    \slidehead
    \vspace{-1em}
    \pythonfile[][top=0cm,bottom=0cm]{listings/scope_1.py}
    \pause
    \vspace{-1em}
    %\begin{noindent}
    \begin{commandshell}[fontsize=\footnotesize][minted language=text,top=0cm,bottom=0cm]
        Traceback (most recent call last):
        File "scope_1.py", line 5, in <module>
            print(variable)
                ^^^^^^^^
        NameError: name 'variable' is not defined. Did you mean: 'callable'?
    \end{commandshell}
    %\end{noindent}
    \vspace{-1em}
    \vfill
    \begin{block}{Hinweis:}
        Variablen, die innerhalb einer Funktion erstellt werden, werden gelöscht, sobald die Funktion endet.
        Diese Variablen heißen \textbf{lokale Variablen}.
    \end{block}
\end{frame}

\subsection{Globale Variablen}
\begin{frame}
    \slidehead
    \pythonfile{listings/scope_2.py}
    \begin{itemize}
        \item Variablen die außerhalb von Funktionen erstellt wurden, werden als \textbf{globale Variablen} bezeichnet
        \item Auf globale Variablen kann auch in Funktionen zugegriffen werden
    \end{itemize}
\end{frame}

\begin{frame}
    \slidehead
    \pythonfile{listings/scope_3.py}
    \begin{itemize}
        \item Die globale Variable \pythoninline{zahl} bleibt unverändert
        \item Es wird eine lokale Variable mit dem \textit{gleichen} Namen erstellt
    \end{itemize}
\end{frame}

\livecoding

\subtitle{Kapitel 6: wie Funktionen funktionieren}

\section{Rekursion}
\begin{frame}[t]
    \slidehead

    \vskip -18 pt
    \begin{columns}
        \begin{column}{4.5cm}
            \vskip 5 pt
            \begin{itemize}
                \item Funktionen können sich selbst aufrufen
            \end{itemize}
        \end{column}

        \begin{column}{7cm}
            \begin{figure}
                \IfFileExists{\jobname_tmp.pdf}{
                    \includegraphics[width=\textwidth,page=22]{\jobname_tmp.pdf}
                }{}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[t]
    \slidehead

    \begin{itemize}
        \item Funktionen können sich mehrfach selbst aufrufen
    \end{itemize}

    \begin{columns}
        \begin{column}{5cm}
            \begin{figure}
                \IfFileExists{\jobname_tmp.pdf}{
                    \includegraphics[width=\textwidth,page=23]{\jobname_tmp.pdf}
                }{}
            \end{figure}
        \end{column}

        \begin{column}{5cm}
            \begin{figure}
                \IfFileExists{\jobname_tmp.pdf}{
                    \includegraphics[width=\textwidth,page=23]{\jobname_tmp.pdf}
                }{}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}

\subsection*{Beispiel}
\begin{frame}
    \slidehead

    \begin{itemize}
        \item Fibonacci-Zahlen: \texttt{1, 1, 2, 3, 5, 8, 13, 8+13 = 21, ...}
            \begin{onlyenv}<1>
                \pythonfile{listings/bsp_recursion_1.py}
            \end{onlyenv}

            \begin{onlyenv}<2>
                \pythonfile{listings/bsp_recursion_2.py}
            \end{onlyenv}

        \item<2> Rekursionsanker sorgt für den Abbruch
    \end{itemize}

\end{frame}

\subsection{Rekursionsbaum}

\begin{frame}[c]
    \slidehead
    \centering
    \begin{forest}
        % if you think this tree code is unreadable, just look at the previous one from Kevin
        % Fixed by: Ruben
        for tree={
            draw,
            very thick,
            edge={-Latex,thick},
            minimum size=.75cm,
            l+=5mm,
            s sep+=2cm,
            if n=1{ % honor the fancy edge style of the old tree
                edge path={
                    \noexpand\path[\forestoption{edge}]
                    (!u.south west) -- (.north east)\forestoption{edge label};
                },
            }{
                edge path={
                    \noexpand\path[\forestoption{edge}]
                    (!u.south east) -- (.north west)\forestoption{edge label};
                },
            },
        }
        [f(4)
            [f(3)
                [f(2)
                    [f(1)]
                    [f(0)]
                ]
                [f(1)]
            ]
            [f(2)
                [f(1)]
                [f(0)]
            ]
        ]
    \end{forest}
\end{frame}

\subsection{Rekursive Summe in Kotlin}
\begin{frame}
    \slidehead

    \begin{itemize}
        \item Aufgabe: Zahlen von 1 bis 4 zusammenzählen: \texttt{sum(4)} \pause
        \item \texttt{= 1 + 2 + 3 + 4} \pause
        \item \texttt{= (1 + 2 + 3) + 4} \pause
        \item \texttt{= sum(3) + 4}
    \end{itemize}
    \vspace{1em}
    \pause
    \pythonfile{listings/recursiveSum.py}
\end{frame}

\livecoding


\subsection{}

\section{Quiz}
\begin{frame}
    \slidehead
    \begin{itemize}
        \item Was bedeutet Kapseln?
            \pause
        \item Was ist ein Parameter?
            Was ist ein Argument?
            Wie untescheiden sie sich?
            \pause
        \item Darf ich meine Funktion \pythoninline{while} nennen?
            \pause
        \item Braucht eine Funktion ein \pythoninline{return}-Statement?
            \pause
        \item Solltet ihr alle zur Ophase gehen?
    \end{itemize}
\end{frame}

\section{Fragen und Sonstiges}
\begin{frame}
    \slidehead
    \vspace{1.8cm}
    \centering
    \huge Noch Fragen?
\end{frame}

\section{}
\subsection{}

\begin{frame}
    \slidehead
    \vspace{1.8cm}
    \centering
    \huge Danke fürs Teilnehmen und Viel Erfolg im Studium.
\end{frame}

\end{document}
