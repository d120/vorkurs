% !TeX document-id = {3bcfab70-4d4f-4fac-ba3e-b78564f2abde}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]
% !TeX root = 04_Schleifen.tex
\input{../global.tex}

\begin{document}

%Deckblatt

\section{Schleifen}
\subtitle{Kapitel 4: Befehle wiederholen}
\titlegraphic{
    \begin{columns}[c]
        \begin{column}{4cm}
            \begin{center}
                {\huge Schleifen}
            \end{center}
        \end{column}
        \begin{column}{4cm}
            \vspace{2mm}
            \begin{figure}
                \centering
                \includeinvertablegraphics[scale=.5]{media/flowchart.png}
                \\	\sffamily \tiny Bild: \href{https://xkcd.com/1195/}{https://xkcd.com/1195/}
            \end{figure}
        \end{column}
    \end{columns}}
\maketitle


\section{Wofür Schleifen?}
\begin{frame}
    \pythonfile{listings/why.py}
    \plainfile{listings/while_output.sh}
\end{frame}

\begin{frame}
    \slidehead
    \vspace{-1em}
    \pythonfile[][top=0pt,bottom=0pt]{listings/why2.py}
    \pause
    \vspace{-1.5ex}
    \begin{block}{Hinweis}
        Sei faul!
    \end{block}
\end{frame}

\begin{frame}
    \slidehead

    \pythonfile{listings/while.py}
    \begin{itemize}
        \item Code wird \textit{kürzer}
        \item Code wird \textit{lesbarer}
        \item Anzahl der Ausführungen kann \textit{dynamisch} entschieden werden
    \end{itemize}
\end{frame}

%\nextvid{While-Schleife}{}

%Deckblatt
\section{While-Schleife}
\subtitle{Kapitel 4: Befehle wiederholen}

\begin{frame}
    \slidehead

    % Wäre es nicht sinnvoll das irgendwie vor zu schieben ?
    \begin{itemize}
        \item Syntax:
            \pythonfile{listings/while-syntax.py}
        \item Solange die Bedingung zu \pythoninline{true} ausgewertet wird, werden Anweisungen wiederholt
        \item Zeile 1 wird \textbf{Schleifenkopf} genannt
        \item Alles zwischen den geschweiften Klammern wird \textbf{Schleifenkörper} bzw. \textbf{Schleifenrumpf} genannt
    \end{itemize}
\end{frame}

\begin{frame}
    \slidehead
    \begin{itemize}
        \item Alle logischen Operatoren können als \textbf{Ausführbedingung} verwendet werden:
            \pythonfile{listings/while2.py}
    \end{itemize}
\end{frame}

\livecoding

\subsection{Continue und break}
\begin{frame}
    \slidehead

    \begin{itemize}
        \item \pythoninline{continue} springt zum Anfang der Schleife
        \item \pythoninline{break} bricht die Schleife komplett ab
    \end{itemize}
    \pythonfile{listings/continue-break.py}
\end{frame}

\livecoding

\subsection{Nicht jede schleife schleift gleich!}
\begin{frame}
    \slidehead

    \begin{itemize}
        \item \textcolor{red}{Achtung} Nicht jede Programmiersprache sieht gleich aus, das wichtige ist das Konzept verstanden zu haben!
        \item Manche Programmiersprachen besitzen auch keine Schleifen, sondern nutzen andere Konzepte (Ende vom Vorkurs)
    \end{itemize}
\end{frame}

\section{Listen}
\begin{frame}
    \slidehead

    \begin{center}
    \begin{tikzpicture}
        \newcounter{idx}
        \setcounter{idx}{0}
        \foreach \x in {5,3,10,0,1,2,4,7,9,8}{
            \draw[draw=.] (11+\value{idx}*0.5,0) rectangle ++(0.5,0.5);
            \node at (11.25+\value{idx}*0.5, 0.65) {\tiny \theidx};
            \node at (11.25+\value{idx}*0.5, 0.25) {\small \x};
            \setcounter{idx}{\value{idx}+1}
        }

        \draw [->] (12,-0.5) -- (11,-0.5);
        \node at (13.5, -0.5) {Listenlänge ist 10};
        \draw [->] (15,-0.5) -- (16,-0.5);

        \draw [-] (10.5,0.65) -- (10.2,0.65);
        \node at (9.5, 0.7) {Indizes};

        \draw [-] (16.25,0.25) -- (17.0,1);
        \node at (17.5, 1.25) {Element an Index 9};

        \caption{Architektur einer Liste}
    \end{tikzpicture}\label{fig:figure}
    \end{center}

\end{frame}

\livecoding

% Hier listen
\section{Listen}
\begin{frame}
    \slidehead
    \begin{itemize}
        \item Wie können wir mehrere Werte die zusammengehören Speichern?
        \item Antwort: Listen!
        \item Listen sind zusammenhängende Boxen im Speicher, welche unter einem Namen angesprochen werden können
    \end{itemize}
\end{frame}

%Deckblatt
\section{For-Schleife}
\subtitle{Kapitel 4: Befehle wiederholen}

\section{For-Schleife}
\begin{frame}
    \slidehead

    \begin{itemize}
        %\vspace{-1ex}
        \item Häufig gibt es folgende Schleifenart:
            %\vspace{-1ex}
            \kotlinfile[][top=0pt,bottom=0pt]{listings/while3.kts}
            \pause
            %\vspace{-1ex}
        \item Kurzschreibweise:
            %\vspace{-1ex}
            \kotlinfile[escapeinside=\$\$][top=0pt,bottom=0pt]{listings/forschleife.kts}
            %\vspace{-1ex}
    \end{itemize}%\pause
    % \begin{block}{Frage:}
    %     Von wo bis wo zählt diese Schleife?
    % \end{block}
\end{frame}

\begin{frame}[fragile]
    \slidehead

    \begin{itemize}
        \item Schleife von 0 bis exklusive 10:
            \begin{codeBlock}[]{minted language=kotlin}
                for (zahl in 0 until 10) {
                    print(zahl + " ")
                } // Ausgabe: 0 1 2 3 4 5 6 7 8 9
            \end{codeBlock}
            \pause
        \item Schleife von 0 bis inklusive 10:
            \begin{codeBlock}[]{minted language=kotlin}
                for (zahl in 0..10) {
                    print(zahl + " ")
                } // Ausgabe: 0 1 2 3 4 5 6 7 8 9 10
            \end{codeBlock}
    \end{itemize}
\end{frame}

% \begin{frame}
%     \slidehead

%     \begin{itemize}
%         \item Sinnvoll, wenn eine Variable bis zu einem bestimmten Wert \textit{hochzählen} soll
%         \item Syntax:
%             \kotlinfile{listings/forschleife.kts}
%         \item Beispiel:
%             \kotlinfile{listings/forschleife-print.kts}
%     \end{itemize}
% \end{frame}

\begin{frame}
    \slidehead

    \begin{itemize}
        \item Ein range kann auch bei einer bestimmten Zahl anfangen
            \begin{itemize}
                \item Schreibweise: \kotlininline{startwert until grenzwert}
            \end{itemize}
        \item Oder mit einer festen Schrittweite arbeiten:
            \begin{itemize}
                \item Schreibweise: \kotlininline{startwert until grenzwert step schrittweite}
            \end{itemize}
    \end{itemize}
    \kotlinfile[]{listings/range.kts}
\end{frame}

\begin{frame}[fragile]
    \slidehead

    Man kann auch rückwärts zählen:
    \begin{itemize}
        \item Schreibweise: \kotlininline{startwert downTo endwert}
            \begin{codeBlock}[]{top=0cm,bottom=0cm,minted language=kotlin}
            for (zahl in 10 downTo 0) {
                print(zahl + " ")
            }
            // Ausgabe: 10 9 8 7 6 5 4 3 2 1 0
        \end{codeBlock}
        \item Schreibweise: \kotlininline{startwert downTo endwert step schrittweite}
            \begin{codeBlock}[]{top=0cm,bottom=0cm,minted language=kotlin}
            for (zahl in 10 downTo 0 step 2) {
                print(zahl + " ")
            }
            // Ausgabe: 10 8 6 4 2 0
        \end{codeBlock}
    \end{itemize}
\end{frame}

\subsection{Verschachtelte Schleifen}
\begin{frame}
    \slidehead

    \vspace{-1.2ex}
    Natürlich lassen sich Schleifen auch \textit{verschachteln}:
    \vspace{-1.2ex}
    \kotlinfile[][top=0cm,bottom=0cm]{listings/geschachteltfor.kts}

    \pause
    \vspace{-1.5ex}
    \begin{block}{Frage: Was wird ausgegeben?}\pause
        \kotlininline{0000000000}\\
        \kotlininline{0000000000}\\
        \kotlininline{...}\\
        \kotlininline{0000000000 // insgesamt 10 mal}
    \end{block}
\end{frame}

\livecoding

\section{Quiz}
\begin{frame}
    \slidehead
    \pause
    \begin{itemize}
        \item Welche Schleifenarten gibt es in Kotlin?\pause
        \item Was \textbf{muss} mit Code in einer Schleife gemacht werden?\pause
        \item Wann ist die Verwendung einer \kotlininline{for}-Schleife sinnvoll?\pause
        \item Ist es möglich, \kotlininline{while}-Schleifen in \kotlininline{for}-Schleifen zu verschachteln?\pause
    \end{itemize}
    \begin{block}{Finde drei Fehler}
        \kotlinfile{listings/FrageStunde_Schleife_ErrorListing.kts}
    \end{block}
    % while in range (Syntaxfehler)
    % println außerhalb der Schleife (Logikfehler)
    % schleife wird 10 und nicht 20 mal ausgeführt (Logikfehler)
\end{frame}

\section{Evaluation}
\begin{frame}
    \slidehead
    \begin{columns}
        \begin{column}{6cm}
            \vspace{-0.5cm}
            \begin{figure}
                \centering
                \includeinvertablegraphics[scale=.33]{media/QRCode_NYV4Q_VL.png}
                \\  \sffamily \tiny Vorlesungsevaluation \href{https://evaluation.tu-darmstadt.de/evasys/online.php?p=NYV4Q}{https://evaluation.tu-darmstadt.de/evasys/online.php?p=NYV4Q}
            \end{figure}
        \end{column}
        \begin{column}{6cm}
            \vspace{-0.5cm}
            \begin{figure}
                \centering
                \includeinvertablegraphics[scale=.33]{media/QRCode_78NRQ_UE.png}
                \\  \sffamily \tiny Übungsevaluation: \href{https://evaluation.tu-darmstadt.de/evasys/online.php?p=78NRQ}{https://evaluation.tu-darmstadt.de/evasys/online.php?p=78NRQ}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}


%\nextvid{Listen}{For-Schleife Beispiele}

\end{document}
