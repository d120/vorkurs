%Includes
\usepackage[ngerman]{babel} %Deutsche Silbentrennung
\usepackage[utf8]{inputenc} %Deutsche Umlaute
\usepackage{float}
\usepackage{graphicx}
\usepackage{minted}

\DeclareGraphicsExtensions{.pdf,.png,.jpg}

\makeatletter
\author{Vorkursteam der Fachschaft Informatik}
\let\Author\@author

% dark mode
\ExplSyntaxOn
\IfDarkModeT{
    \cs_if_exist:NT \setbeamercolor {
        \setbeamercolor*{smallrule}{bg=.}
        \setbeamercolor*{normal~text}{bg=\thepagecolor,fg=.}
        \setbeamercolor*{background~canvas}{parent=normal~text}
        \setbeamercolor*{section~in~toc}{parent=normal~text}
        \setbeamercolor*{subsection~in~toc}{parent=normal~text,fg=.}
        \setbeamercolor*{footline}{parent=normal~text}
        \setbeamercolor{block~title~alerted}{fg=white,bg=white!20!\thepagecolor}
        \setbeamercolor*{block~body}{bg=black!70!gray!98!blue}
        \setbeamercolor*{block~body~alerted}{bg=\thepagecolor}
    }
    \cs_if_exist:NT \setbeamertemplate {
        \setbeamertemplate{subsection~in~toc~shaded}[default][50]
    }
}
\ExplSyntaxOff

% macros
\renewcommand{\arraystretch}{1.2} % Höhe einer Tabellenspalte minimal erhöhen
\newcommand{\N}{{\mathbb N}}
\renewcommand{\code}{\inputminted[]{python}}

\IfDarkModeTF{
    \newmintedfile[pythonfile]{python}{
        fontsize=\small,
        style=native,
        linenos=true,
        numberblanklines=true,
        tabsize=4,
        obeytabs=false,
        breaklines=true,
        autogobble=true,
        encoding="utf8",
        showspaces=false,
        xleftmargin=20pt,
        frame=single,
        framesep=5pt,
    }
    \newmintinline{python}{
        style=native,
        encoding="utf8"
    }

    \definecolor{codegray}{HTML}{eaf1ff}
    \newminted[bashcode]{awk}{
        escapeinside=||,
        fontsize=\small,
        style=native,
        linenos=true,
        numberblanklines=true,
        tabsize=4,
        obeytabs=false,
        breaklines=true,
        autogobble=true,
        encoding="utf8",
        showspaces=false,
        xleftmargin=20pt,
        frame=single,
        framesep=5pt
    }
}{
    \newmintedfile[pythonfile]{python}{
        fontsize=\small,
        style=friendly,
        linenos=true,
        numberblanklines=true,
        tabsize=4,
        obeytabs=false,
        breaklines=true,
        autogobble=true,
        encoding="utf8",
        showspaces=false,
        xleftmargin=20pt,
        frame=single,
        framesep=5pt,
    }
    \newmintinline{python}{
        style=friendly,
        encoding="utf8"
    }

    \definecolor{codegray}{HTML}{eaf1ff}
    \newminted[bashcode]{awk}{
        escapeinside=||,
        fontsize=\small,
        style=friendly,
        linenos=true,
        numberblanklines=true,
        tabsize=4,
        obeytabs=false,
        breaklines=true,
        autogobble=true,
        encoding="utf8",
        showspaces=false,
        xleftmargin=20pt,
        frame=single,
        framesep=5pt
    }
}

\let\origpythonfile\pythonfile
\renewcommand{\pythonfile}[1]{\pythonfileh{#1}{}}
\newcommand{\pythonfileh}[2]{\origpythonfile[#2]{#1}}

\newcommand*{\ditto}{\texttt{\char`\"}}
